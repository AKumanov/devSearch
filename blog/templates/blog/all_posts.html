{% extends 'main.html' %}



{% block content %}
<section class="hero-section text-center">
    <div class="container container--narrow">
      <div class="hero-section__box">
        <h2>All <span>Posts</span></h2>
      </div>

      <div class="hero-section__search">

        <form id="searchForm" class="form" action="{% url 'all-posts' %}" method="get">
          <div class="form__field">
            <label for="formInput#search">Search Posts </label>
            <input class="input input--text" id="formInput#search" type="text" name="search_query"
              placeholder="Search by post title.." value="{{search_query}}" />

          </div>

          <input class="btn btn--sub btn--lg" type="submit" value="Search" />
        </form>
      </div>
    </div>
  </section>

<div class="posts-container">
    <!-- first post -->
    {% for post in posts %}
    
    <div class="entry">
        <header class="entry__header">
            
            <img src="{{ post.owner.profile_image.url }}" alt="pic" class="entry__author_picture">
            <div>
                <h3 class="entry__author">{{post.owner.name}}</h3>
                <a href="{% url 'user-profile' post.owner.id %}" class="entry__author_username">@{{post.owner.username}}</a>
            </div>
        </header>
        
        <div style="display: block;">     
            <p class="entry__title">{{post.title}}</p>
            <p class="entry__description">{{post.description}}</p>
        </div>
        <div style="display: flex">
            <a  href="{% url 'post-detail' post.id %}"><h1 class="btn btn--sub btn--sm">Read More</h1></a>
        </div>
    </div>
    
    {% endfor %}
    
    <!-- end first post -->
</div>

{% include 'pagination.html' with queryset=posts custom_range=custom_range %}

{% endblock content %}

